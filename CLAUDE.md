# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Laravel React Starter Kit application built with:
- **Backend**: Laravel 12 with PHP 8.2+
- **Frontend**: React 19 with TypeScript, Inertia.js, and Tailwind CSS 4
- **Authentication**: Laravel Fortify with two-factor authentication support
- **Testing**: Pest PHP for backend tests
- **Build Tools**: Vite for asset compilation and development server

## Development Commands

### Frontend Development
```bash
# Start development server (includes PHP server, queue, logs, and Vite)
composer dev

# Start development server with SSR
composer dev:ssr

# Frontend-only development
npm run dev

# Build assets for production
npm run build

# Build with SSR support
npm run build:ssr

# Lint and format
npm run lint
npm run format
npm run format:check
npm run types
```

### Backend Development
```bash
# Run PHP development server only
php artisan serve

# Run tests
composer test
# or
php artisan test

# Run specific test
php artisan test --filter TestName

# Database operations
php artisan migrate
php artisan migrate:fresh --seed

# Queue operations
php artisan queue:listen --tries=1

# View logs in real-time
php artisan pail --timeout=0

# Clear caches
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

## Architecture Overview

### Frontend Architecture
- **Framework**: React 19 with TypeScript and Inertia.js for SPA-like experience
- **Styling**: Tailwind CSS 4 with Radix UI components and custom UI components
- **State Management**: Built-in React state with custom hooks for specific features
- **Routing**: Server-side routing via Laravel with Inertia.js client-side navigation
- **Type Safety**: Full TypeScript with strict configuration

### Key Frontend Directories
- `resources/js/pages/` - Inertia.js page components
- `resources/js/components/` - Reusable React components
- `resources/js/components/ui/` - Radix UI-based components
- `resources/js/layouts/` - Layout components for different page types
- `resources/js/hooks/` - Custom React hooks
- `resources/js/actions/` - Server action type definitions generated by Wayfinder
- `resources/js/routes/` - Route helpers generated by Wayfinder
- `resources/js/types/` - TypeScript type definitions

### Backend Architecture
- **Framework**: Laravel 12 with standard MVC architecture
- **Authentication**: Laravel Fortify with two-factor authentication
- **Database**: SQLite for development (configurable)
- **Controllers**: Organized by feature with Auth and Settings namespaces
- **Models**: Standard Eloquent models with proper relationships

### Key Backend Directories
- `app/Http/Controllers/` - HTTP controllers organized by feature
- `app/Http/Controllers/Auth/` - Authentication-related controllers
- `app/Http/Controllers/Settings/` - User settings controllers
- `app/Models/` - Eloquent models
- `database/migrations/` - Database schema migrations
- `tests/Feature/` - Feature tests for HTTP endpoints
- `tests/Unit/` - Unit tests for isolated components

## Important Configuration

### Wayfinder Integration
The project uses Laravel Wayfinder for type-safe routing and form handling:
- Route helpers are generated in `resources/js/routes/`
- Server actions are typed in `resources/js/actions/`
- Forms automatically get type safety through Wayfinder

### Inertia.js Setup
- Server-side rendering (SSR) is configured but optional
- Pages are resolved automatically from `resources/js/pages/`
- Shared data includes authentication state and app configuration

### Two-Factor Authentication
- Implemented via Laravel Fortify
- QR code generation and recovery codes supported
- Frontend components handle the complete 2FA flow

## Testing Strategy

### Backend Tests
- Use Pest PHP testing framework
- Feature tests cover complete HTTP request flows
- Tests are organized by feature (Auth, Settings, etc.)
- SQLite in-memory database for test isolation

### Frontend Testing
- TypeScript compilation serves as basic type checking
- ESLint and Prettier enforce code quality
- No specific frontend test framework configured

## Code Style and Quality

### PHP
- Laravel Pint for code formatting (PSR-12 standard)
- Standard Laravel conventions

### TypeScript/React
- ESLint with TypeScript, React, and React Hooks rules
- Prettier for code formatting with import organization
- Strict TypeScript configuration
- React 19 with automatic JSX runtime

## Development Workflow

1. Run `composer dev` to start the full development environment
2. Frontend changes auto-reload via Vite HMR
3. Backend changes require manual refresh
4. Always run `npm run lint` and `npm run types` before committing
5. Run `composer test` to ensure backend functionality
6. Use `php artisan pail` for real-time log monitoring during development